<div class="container">
  <div>
    <div>
      <mat-card>
        <mat-card-title>Регистрация</mat-card-title>
        <mat-card-content>
          <form [formGroup]="form" (ngSubmit)="onRegister()">
            <mat-form-field>
              <mat-label>Почта</mat-label>
              <input type="email" matInput placeholder="Введите почту..." formControlName="email">
              <mat-error *ngIf="email.touched && email.hasError('required')">Email не введен</mat-error>
              <mat-error *ngIf="email.touched && email.hasError('email')">Email должен быть корректен</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Имя</mat-label>
              <input type="text" matInput placeholder="Введите имя..." formControlName="firstName">
              <mat-error *ngIf="firstName.touched && firstName.hasError('required')">Имя не введено</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Фамилия</mat-label>
              <input type="text" matInput placeholder="Введите фамилию..." formControlName="lastName">
              <mat-error *ngIf="lastName.touched && lastName.hasError('required')">Фамилия не введена</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Отчество</mat-label>
              <input type="text" matInput placeholder="Введите отчество (если есть)..." formControlName="surname">
            </mat-form-field>
            <mat-form-field>
              <mat-label>Отдел</mat-label>
              <mat-select formControlName="department">
                <mat-option *ngFor="let department of departments$ | async" value="departments/{{department.id}}">
                  {{ department.name | titlecase }}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="department.touched && department.hasError('required')">Отдел не выбран</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Пароль</mat-label>
              <input type="password" matInput placeholder="Введите пароль..." formControlName="password">
              <mat-error *ngIf="password.touched && password.hasError('required')">Пароль не введен</mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Повторите пароль</mat-label>
              <input type="password" matInput placeholder="Введите пароль еще раз..." formControlName="passwordConfirm">
              <mat-error *ngIf="passwordConfirm.touched && form.hasError('passwordsNotMatching')">Пароли не
                совпадают
              </mat-error>
            </mat-form-field>
            <button mat-raised-button color="primary" class="button" type="submit"
              [disabled]="!form.valid">Зарегистрироваться
            </button>
            <p>Уже есть аккаунт? <a [routerLink]="['../login']">Войти</a></p>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>